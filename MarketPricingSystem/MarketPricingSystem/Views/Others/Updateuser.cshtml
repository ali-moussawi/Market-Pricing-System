@model   MarketPricingSystem.ViewModel.Userandroles
@{
    ViewBag.Title = "Create User";
    Layout = "~/Views/Shared/_LayoutPageUser.cshtml";
}


<main>

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-7">
                <div class="card shadow-lg border-0 rounded-lg mt-5">
                    <div class="card-header"><h3 class="text-center font-weight-light my-4">Update User</h3></div>
                    <div class="card-body">


                        <form method="post" action="/Others/Confirmupdate">
                            
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <div class="form-floating mb-3 mb-md-0">
                                        <input class="form-control" id="username" type="text" name="username" value="@Model.User.Name" required />
                                        <label for="username"> User Name</label>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input class="form-control" id="phonenumber" type="text" name="phonenumber" value="@Model.User.PhoneNumber" required />
                                        <label for="phonenumber"> User phonenumber</label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-floating mb-3">
                                <input class="bg-opacity-75 form-control" type="email" id="gmail"     value="@Model.User.Gmail"  readonly  />
                                <label for="gmail"> User gmail</label>
                            </div>



                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <div class="form-floating mb-3 mb-md-0">
                                        <input class="form-control" id="password" type="password" name="password" onclick="able()" onchange="able()" />
                                        <label for="password">change password</label>
                                    </div>
                                    <span id="c1" style="color:red">Password does not match !</span>
                                </div>


                                <div class="col-md-6">
                                    <div class="form-floating mb-3 mb-md-0">
                                        <input class="form-control" id="confirmpassword"  onclick="able()"  type="password"  onchange="able()" />
                                        <label for="confirmpassword">Confirm new password</label>

                                    </div>
                                    <span id="c2" style="color:red">Password does not match !</span>
                                </div>

                            </div>

                            <input type="hidden" name="userid" value="@Model.User.UserId"/>

                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="role" style="opacity: 0.5">Role</label>

                                        <select id="role" class="form-control" name="roleid">

                                            @foreach (var role in Model.Rolelist)
                                            {
                                                <option value="@role.RoleId">@role.RoleName</option>
                                            }




                                        </select>

                                    </div>

                                </div>

                            </div>


                            <div class="mt-4 mb-0">
                                <div class="d-grid"> <button id="btn" type="submit" class="btn btn-primary" onclick="validate()"> update</button> </div>
                            </div>
                        </form>



                    </div>

                </div>
            </div>
        </div>
    </div>
</main>



@section scripts
    {

    <script>
        const c11 = document.getElementById("c1");
        const c22 = document.getElementById("c2");
        c1.style.display = "none";
        c2.style.display = "none";


        function validate() {
            var password = document.getElementById("password").value;
            var confirmpassword = document.getElementById("confirmpassword").value;

            const button = document.getElementById("btn");


            const c1 = document.getElementById("c1");
            const c2 = document.getElementById("c2");







            var v = password === confirmpassword;
            if (!v) {

                c1.style.display = "block";
                c2.style.display = "block";
            }
            button.disabled = !v;
        }

        function able() {
            const c11 = document.getElementById("c1");
            const c22 = document.getElementById("c2");
            c1.style.display = "none";
            c2.style.display = "none";
            const button = document.getElementById("btn");
            button.disabled = false;

        }





    </script>







}